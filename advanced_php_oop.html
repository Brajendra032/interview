<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß¨ Advanced PHP OOP Concepts - Complete Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .breadcrumb {
            background: #f8f9fa;
            padding: 15px 30px;
            border-bottom: 2px solid #dee2e6;
        }

        .breadcrumb a {
            color: #007bff;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .content {
            padding: 30px;
        }

        .section-title {
            font-size: 2em;
            color: #2c3e50;
            margin: 40px 0 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .concept-title {
            font-size: 1.8em;
            color: #2c3e50;
            margin: 30px 0 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e74c3c;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #ffd700;
        }

        .success-box {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #4caf50;
        }

        .warning-box {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #ff9800;
        }

        .code-example {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 18px 18px 18px 50px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.5;
            position: relative;
            overflow-x: auto;
        }

        .code-example::before {
            content: 'üëÅÔ∏è';
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 16px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }

        .code-example::before:hover {
            opacity: 1;
        }

        .code-example::after {
            content: 'üìã';
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 16px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }

        .code-example::after:hover {
            opacity: 1;
        }

        .table-container {
            overflow-x: auto;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
            font-size: 1em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        tr:nth-child(even) {
            background: #f8f9fa;
        }

        tr:hover {
            background: #e3f2fd;
            transition: background 0.2s ease;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-left: 4px solid #3498db;
        }

        .feature-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .summary-table {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .summary-table h3 {
            color: #ffd700;
            margin-bottom: 15px;
            text-align: center;
        }

        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 0.9em;
        }

        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }

        .scroll-to-top.show {
            opacity: 1;
        }

        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }

            .section-title {
                font-size: 1.5em;
            }

            .concept-title {
                font-size: 1.4em;
            }

            th, td {
                padding: 10px;
                font-size: 0.9em;
            }

            .feature-list {
                grid-template-columns: 1fr;
            }

            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß¨ Advanced PHP OOP Concepts</h1>
            <p>Complete Guide to Object-Oriented Programming in PHP</p>
        </div>

        <div class="breadcrumb">
            <a href="index.html">‚Üê Back to Main Interview Guide</a>
        </div>

        <div class="content">
            <div class="highlight-box fade-in">
                <h3 style="color: #ffd700; margin-bottom: 15px;">üéØ Why OOP Matters in PHP?</h3>
                <p style="margin: 0; font-size: 1.1em;">
                    <strong>OOP (Object-Oriented Programming)</strong> is the foundation of modern PHP development.
                    It helps you write cleaner, more maintainable, and scalable code. Master these concepts and you'll
                    be able to build complex applications with confidence!
                </p>
            </div>

            <!-- Encapsulation -->
            <div class="fade-in">
                <h2 class="section-title">1. üîí Encapsulation (Data Protection)</h2>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Meaning:</h4>
                    <p>Wrap (bind) data and functions together in one unit (class), and hide the internal details from outside. You only allow controlled access using getters/setters.</p>
                </div>

                <div class="warning-box">
                    <h4 style="color: #ffd700;">Example (Real-life):</h4>
                    <p>A mobile phone ‚Äì you can use buttons (functions), but you don't know the complex internal circuit (hidden data).</p>
                </div>

                <div class="code-example">
class BankAccount {
    private $balance = 0;  // hidden data

    public function deposit($amount) {
        $this->balance += $amount;
    }

    public function getBalance() {
        return $this->balance;  // controlled access
    }
}

$acc = new BankAccount();
$acc->deposit(1000);
echo $acc->getBalance(); // ‚úÖ You can get balance but not directly change it
                </div>
            </div>

            <!-- Inheritance -->
            <div class="fade-in">
                <h2 class="section-title">2. üß¨ Inheritance (Code Reuse)</h2>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Meaning:</h4>
                    <p>Child class can use properties and methods of parent class. Helps in code reusability.</p>
                </div>

                <div class="warning-box">
                    <h4 style="color: #ffd700;">Example (Real-life):</h4>
                    <p>A Car inherits common features from Vehicle (like wheels, engine), but adds its own (like airbag, music system).</p>
                </div>

                <div class="code-example">
class Vehicle {
    public function start() {
        echo "Starting vehicle...";
    }
}

class Car extends Vehicle {
    public function playMusic() {
        echo "Playing music...";
    }
}

$car = new Car();
$car->start();      // from parent
$car->playMusic();  // from child
                </div>
            </div>

            <!-- Polymorphism -->
            <div class="fade-in">
                <h2 class="section-title">3. üé≠ Polymorphism (Many Forms)</h2>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Meaning:</h4>
                    <p>Same function name but works differently for each class.</p>
                </div>

                <div class="warning-box">
                    <h4 style="color: #ffd700;">Example (Real-life):</h4>
                    <p>"Drive" action ‚Äî a car drives differently than a bike.</p>
                </div>

                <div class="code-example">
class Vehicle {
    public function start() {
        echo "Vehicle starts\n";
    }
}

class Bike extends Vehicle {
    public function start() {
        echo "Bike starts with kick\n";
    }
}

class Car extends Vehicle {
    public function start() {
        echo "Car starts with key\n";
    }
}

$vehicles = [new Bike(), new Car()];
foreach ($vehicles as $v) {
    $v->start();  // same function, different behavior
}
                </div>
            </div>

            <!-- Abstraction -->
            <div class="fade-in">
                <h2 class="section-title">4. üß† Abstraction (Show Only What's Needed)</h2>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Meaning:</h4>
                    <p>Show only essential details; hide unnecessary background code.</p>
                </div>

                <div class="warning-box">
                    <h4 style="color: #ffd700;">Example (Real-life):</h4>
                    <p>When you "click a button" on ATM to withdraw money, you don't know the backend process ‚Äî only what's required is visible.</p>
                </div>

                <div class="code-example">
abstract class Animal {
    abstract public function sound(); // only method structure
}

class Dog extends Animal {
    public function sound() {
        echo "Bark";
    }
}
$dog = new Dog();
$dog->sound();
                </div>
            </div>

            <!-- Abstract vs Interface -->
            <div class="fade-in">
                <h2 class="section-title">5. ‚öñÔ∏è Abstract Class vs Interface</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Abstract Class</th>
                                <th>Interface</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Keyword</td>
                                <td><code>abstract class</code></td>
                                <td><code>interface</code></td>
                            </tr>
                            <tr>
                                <td>Can have method body?</td>
                                <td>‚úÖ Yes (some methods can be implemented)</td>
                                <td>‚ùå No (only method names)</td>
                            </tr>
                            <tr>
                                <td>Variables allowed?</td>
                                <td>‚úÖ Yes</td>
                                <td>‚ùå No</td>
                            </tr>
                            <tr>
                                <td>Multiple inheritance</td>
                                <td>‚ùå No</td>
                                <td>‚úÖ Yes (can implement multiple interfaces)</td>
                            </tr>
                            <tr>
                                <td>Usage</td>
                                <td>For shared base class</td>
                                <td>For defining contract / rule</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="code-example">
abstract class Animal {
    abstract public function sound();
    public function sleep() {
        echo "Sleeping\n";
    }
}

interface Pet {
    public function play();
}

class Dog extends Animal implements Pet {
    public function sound() { echo "Bark\n"; }
    public function play() { echo "Playing fetch\n"; }
}
                </div>
            </div>

            <!-- Design Patterns -->
            <div class="fade-in">
                <h2 class="section-title">6. üèóÔ∏è Common PHP Design Patterns</h2>

                <div class="concept-title">üü¢ Singleton Pattern</div>
                <div class="success-box">
                    <p><strong>Purpose:</strong> Ensure only one instance of a class exists.</p>
                    <p><strong>Example:</strong> Database connection (you don't want multiple DB connections).</p>
                </div>

                <div class="code-example">
class DBConnection {
    private static $instance;
    private function __construct() {} // prevent direct creation

    public static function getInstance() {
        if (!self::$instance) {
            self::$instance = new DBConnection();
        }
        return self::$instance;
    }
}

$db1 = DBConnection::getInstance();
$db2 = DBConnection::getInstance();
var_dump($db1 === $db2); // ‚úÖ true
                </div>

                <div class="concept-title">üü£ Factory Pattern</div>
                <div class="success-box">
                    <p><strong>Purpose:</strong> Used to create objects without exposing creation logic.</p>
                    <p><strong>Example:</strong> Pizza factory ‚Äî you order "Veg" or "Non-veg" pizza, factory creates it internally.</p>
                </div>

                <div class="code-example">
interface Shape { public function draw(); }

class Circle implements Shape {
    public function draw() { echo "Drawing Circle\n"; }
}

class Square implements Shape {
    public function draw() { echo "Drawing Square\n"; }
}

class ShapeFactory {
    public static function createShape($type) {
        if ($type == 'circle') return new Circle();
        if ($type == 'square') return new Square();
        return null;
    }
}

$shape = ShapeFactory::createShape('circle');
$shape->draw();
                </div>
            </div>

            <!-- Error vs Exception Handling -->
            <div class="fade-in">
                <h2 class="section-title">7. ‚ö†Ô∏è Error Handling vs Exception Handling</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>When</th>
                                <th>How to Handle</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Error</td>
                                <td>Happens at runtime (like syntax, fatal error)</td>
                                <td>Use <code>error_reporting</code>, <code>set_error_handler</code></td>
                            </tr>
                            <tr>
                                <td>Exception</td>
                                <td>Developer-defined runtime problems</td>
                                <td>Use <code>try-catch</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="code-example">
try {
    $num = 0;
    if ($num == 0) {
        throw new Exception("Division by zero not allowed");
    }
    echo 10 / $num;
} catch (Exception $e) {
    echo "Error: " . $e->getMessage();
}
                </div>
            </div>

            <!-- Session & Cookies -->
            <div class="fade-in">
                <h2 class="section-title">8. üç™ Session & Cookies Management</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Session</th>
                                <th>Cookie</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Storage</td>
                                <td>Server-side</td>
                                <td>Client (browser)</td>
                            </tr>
                            <tr>
                                <td>Security</td>
                                <td>More secure</td>
                                <td>Less secure</td>
                            </tr>
                            <tr>
                                <td>Use</td>
                                <td>Store login info, cart</td>
                                <td>Remember preferences</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="feature-list">
                    <div class="feature-card">
                        <h4>üîê Session Example</h4>
                        <div class="code-example" style="margin: 10px 0; padding-left: 40px;">
// Session Example
session_start();
$_SESSION['user'] = 'Birju';
echo $_SESSION['user'];
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>üç™ Cookie Example</h4>
                        <div class="code-example" style="margin: 10px 0; padding-left: 40px;">
// Cookie Example
setcookie("username", "Birju", time() + 3600); // 1 hour
echo $_COOKIE['username'];
                        </div>
                    </div>
                </div>
            </div>

            <!-- Additional OOP Concepts from Phase 2 -->
            <div class="fade-in">
                <h2 class="section-title">10. üîß Advanced OOP Concepts (From Phase 2)</h2>

                <div class="concept-title">üèóÔ∏è Class & Object</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Class = Cookie cutter (design), Object = Actual cookie (real thing). Blueprint vs the thing you use</p>
                </div>
                <div class="code-example">
class User {
    public $name;
    public function getName() { return $this->name; }
}

$user1 = new User(); // Object 1
$user2 = new User(); // Object 2
$user1->name = 'John';
$user2->name = 'Jane';
// Each object has its own data

// Static vs Instance (INTERVIEW FAVORITE!)
class Counter {
    public static $count = 0; // Shared across all objects
    public $id; // Unique per object
    public function __construct() {
        self::$count++;
        $this->id = self::$count;
    }
}
                </div>

                <div class="concept-title">üèóÔ∏è Constructor/Destructor</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Constructor = Hotel check-in (setup when created), Destructor = Check-out (cleanup when done)</p>
                </div>
                <div class="code-example">
// Constructor with dependency injection
class DatabaseConnection {
    private $pdo;
    public function __construct($host, $db, $user, $pass) {
        try {
            $this->pdo = new PDO("mysql:host=$host;dbname=$db", $user, $pass);
        } catch(PDOException $e) {
            throw new Exception("DB connection failed: " . $e->getMessage());
        }
    }
    public function __destruct() {
        $this->pdo = null; // Clean up connection
    }
}

// Constructor chaining (INTERVIEW TRICK!)
class ParentClass {
    public function __construct($param) {
        echo "Parent: $param";
    }
}
class ChildClass extends ParentClass {
    public function __construct($param) {
        parent::__construct($param); // Must call parent first!
        echo "Child: $param";
    }
}
                </div>

                <div class="concept-title">üîê Access Modifiers</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Public = Public park (anyone can use), Private = Your bedroom (only you), Protected = Family room (you + children)</p>
                </div>
                <div class="code-example">
class BankAccount {
    private $balance = 0; // Only this class can access
    protected $accountType = 'savings'; // This class and child classes
    public function getBalance() { // Anyone can call this
        return $this->balance;
    }
}
                </div>

                <div class="concept-title">üß¨ Traits</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>LEGO power-ups - add extra abilities to any class without inheritance</p>
                </div>
                <div class="code-example">
trait Loggable {
    public function log($message) {
        echo "Log: $message";
    }
}

class User {
    use Loggable; // User now has logging ability
}

class Product {
    use Loggable; // Product also has logging ability
}

$user = new User();
$user->log("User created"); // Works!
                </div>

                <div class="concept-title">üì¶ Static Keyword</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Class-owned property - like company car (belongs to company, not individual employees)</p>
                </div>
                <div class="code-example">
class User {
    public static $totalUsers = 0; // Shared across all users
    public $name; // Unique per user

    public function __construct($name) {
        $this->name = $name;
        self::$totalUsers++; // Increment shared counter
    }
}

$user1 = new User('John');
$user2 = new User('Jane');
echo User::$totalUsers; // 2 (shared across all instances)
                </div>

                <div class="concept-title">üîí Final Keyword</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Locked box - once you declare something final, no one can change or override it</p>
                </div>
                <div class="code-example">
final class DatabaseConnection {
    // Cannot be extended
}

class User {
    final public function getId() {
        return $this->id;
    }
    // This method cannot be overridden in child classes
}
                </div>

                <div class="concept-title">üé© Magic Methods</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Auto-pilot features - automatically triggered when you do certain actions</p>
                </div>
                <div class="code-example">
class User {
    private $data = [];

    public function __set($name, $value) {
        $this->data[$name] = $value;
    }

    public function __get($name) {
        return $this->data[$name] ?? null;
    }

    public function __toString() {
        return "User: " . json_encode($this->data);
    }
}

$user = new User();
$user->name = 'John'; // Calls __set
echo $user->name;     // Calls __get
echo $user;           // Calls __toString
                </div>

                <div class="concept-title">üè¢ Namespaces</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Apartment building addresses - avoid conflicts with same class names</p>
                </div>
                <div class="code-example">
namespace App\Controllers;

class UserController {
    // Handle user-related web requests
}

namespace App\Models;

class User {
    // User database model
}

// Usage
use App\Controllers\UserController as UserCtrl;
use App\Models\User as UserModel;

$userCtrl = new UserCtrl();
$userModel = new UserModel();
                </div>

                <div class="concept-title">üíâ Dependency Injection</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Restaurant kitchen - each chef gets tools they need passed to them</p>
                </div>
                <div class="code-example">
// BAD: Creating dependencies inside class
class OrderService {
    private $logger;
    public function __construct() {
        $this->logger = new FileLogger(); // Tight coupling
    }
}

// GOOD: Dependencies injected from outside
class OrderService {
    private $logger;
    public function __construct(LoggerInterface $logger) {
        $this->logger = $logger; // Loose coupling
    }
}

// Usage
$logger = new FileLogger();
$orderService = new OrderService($logger);
                </div>

                <div class="concept-title">üé® Design Patterns</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Cooking recipes - proven solutions to common problems</p>
                </div>
                <div class="code-example">
// Strategy Pattern Example
interface PaymentMethod {
    public function pay($amount);
}

class CreditCardPayment implements PaymentMethod {
    public function pay($amount) {
        echo "Paid $$amount with Credit Card";
    }
}

class PayPalPayment implements PaymentMethod {
    public function pay($amount) {
        echo "Paid $$amount with PayPal";
    }
}

class PaymentProcessor {
    private $paymentMethod;

    public function __construct(PaymentMethod $method) {
        $this->paymentMethod = $method;
    }

    public function process($amount) {
        $this->paymentMethod->pay($amount);
    }
}
                </div>
            </div>

            <!-- Phase 3 Advanced PHP Content -->
            <div class="fade-in">
                <h2 class="section-title">11. üöÄ Advanced PHP Concepts (From Phase 3)</h2>

                <div class="concept-title">‚ö†Ô∏è Error Handling</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Car's airbag and warning lights - catches problems before they cause crashes</p>
                </div>
                <div class="code-example">
// Custom exception hierarchy
class ValidationException extends Exception { }
class DatabaseException extends Exception { }

function validateUser($data) {
    if(empty($data['email'])) {
        throw new ValidationException("Email is required");
    }
    if(!filter_var($data['email'], FILTER_VALIDATE_EMAIL)) {
        throw new ValidationException("Invalid email format");
    }
}

// Multiple catch blocks (INTERVIEW FAVORITE!)
try {
    validateUser($userData);
    $user = User::create($userData);
} catch(ValidationException $e) {
    return response()->json(['error' => $e->getMessage()], 400);
} catch(DatabaseException $e) {
    Log::error("DB Error: " . $e->getMessage());
    return response()->json(['error' => 'Database error'], 500);
} catch(Exception $e) {
    Log::error("Unexpected error: " . $e->getMessage());
    return response()->json(['error' => 'Something went wrong'], 500);
}

// Finally block always executes
try {
    $file = fopen('data.txt', 'r');
    // process file
} catch(Exception $e) {
    echo "Error: " . $e->getMessage();
} finally {
    if(isset($file)) fclose($file); // Always close file
}
                </div>

                <div class="concept-title">üìÅ File Handling</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Office filing cabinet - organize, store, retrieve, and manage documents safely</p>
                </div>
                <div class="code-example">
// Secure file upload (INTERVIEW CRITICAL!)
function handleFileUpload($file) {
    // 1. Validate file size
    if($file['size'] > 5 * 1024 * 1024) { // 5MB
        throw new Exception("File too large");
    }

    // 2. Validate file type (check MIME type, not extension!)
    $allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];
    $finfo = finfo_open(FILEINFO_MIME_TYPE);
    $mimeType = finfo_file($finfo, $file['tmp_name']);
    if(!in_array($mimeType, $allowedTypes)) {
        throw new Exception("Invalid file type");
    }

    // 3. Generate secure filename
    $extension = pathinfo($file['name'], PATHINFO_EXTENSION);
    $filename = uniqid() . '_' . bin2hex(random_bytes(16)) . '.' . $extension;

    // 4. Move to secure directory (outside web root)
    $uploadPath = '/var/uploads/' . $filename;
    if(!move_uploaded_file($file['tmp_name'], $uploadPath)) {
        throw new Exception("Upload failed");
    }

    return $filename;
}

// File reading with proper error handling
function readFileSafely($filepath) {
    if(!file_exists($filepath)) {
        throw new Exception("File not found");
    }
    if(!is_readable($filepath)) {
        throw new Exception("File not readable");
    }

    $content = file_get_contents($filepath);
    if($content === false) {
        throw new Exception("Failed to read file");
    }

    return $content;
}
                </div>

                <div class="concept-title">üìä JSON & XML</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Universal translator - converts data into formats any system can understand</p>
                </div>
                <div class="code-example">
// JSON encoding/decoding
$user = ['name' => 'John', 'email' => 'john@example.com'];
$jsonString = json_encode($user);
echo $jsonString; // {"name":"John","email":"john@example.com"}

$decodedUser = json_decode($jsonString, true);
echo $decodedUser['name']; // John

// XML handling
$xml = new SimpleXMLElement('<user><name>John</name><email>john@example.com</email></user>');
echo $xml->name; // John
echo $xml->email; // john@example.com
                </div>

                <div class="concept-title">üåê REST API</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Restaurant menu system - GET (read menu), POST (place order), PUT (modify order), DELETE (cancel order)</p>
                </div>
                <div class="code-example">
// REST API Example
class UserAPI {
    public function handleRequest($method, $path, $data) {
        switch($method) {
            case 'GET':
                if($path == '/users') {
                    return $this->getUsers();
                } elseif(preg_match('/\/users\/(\d+)/', $path, $matches)) {
                    return $this->getUser($matches[1]);
                }
                break;

            case 'POST':
                if($path == '/users') {
                    return $this->createUser($data);
                }
                break;

            case 'PUT':
                if(preg_match('/\/users\/(\d+)/', $path, $matches)) {
                    return $this->updateUser($matches[1], $data);
                }
                break;

            case 'DELETE':
                if(preg_match('/\/users\/(\d+)/', $path, $matches)) {
                    return $this->deleteUser($matches[1]);
                }
                break;
        }

        return ['error' => 'Invalid request', 'status' => 404];
    }
}
                </div>

                <div class="concept-title">üé´ Auth Tokens (JWT)</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>VIP backstage pass - digitally signed ticket proving "you are who you say you are"</p>
                </div>
                <div class="code-example">
// JWT Token Structure (simplified)
class JWT {
    public static function createToken($payload, $secret) {
        $header = json_encode(['typ' => 'JWT', 'alg' => 'HS256']);
        $payload = json_encode($payload);

        $headerEncoded = str_replace(['+', '/', '='], ['-', '_', ''], base64_encode($header));
        $payloadEncoded = str_replace(['+', '/', '='], ['-', '_', ''], base64_encode($payload));

        $signature = hash_hmac('sha256', $headerEncoded . "." . $payloadEncoded, $secret, true);
        $signatureEncoded = str_replace(['+', '/', '='], ['-', '_', ''], base64_encode($signature));

        return $headerEncoded . "." . $payloadEncoded . "." . $signatureEncoded;
    }

    public static function verifyToken($token, $secret) {
        $parts = explode('.', $token);
        if(count($parts) !== 3) return false;

        $signature = hash_hmac('sha256', $parts[0] . "." . $parts[1], $secret, true);
        $expectedSignature = str_replace(['+', '/', '='], ['-', '_', ''], base64_encode($signature));

        return hash_equals($expectedSignature, $parts[2]);
    }
}

// Usage
$userData = ['user_id' => 123, 'exp' => time() + 3600];
$token = JWT::createToken($userData, 'secret_key');

// Verify token on subsequent requests
if(JWT::verifyToken($token, 'secret_key')) {
    // Token is valid
}
                </div>

                <div class="concept-title">üìû cURL / API Integration</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Phone operator connecting calls - your app calls external services</p>
                </div>
                <div class="code-example">
// cURL GET request
function makeAPIRequest($url, $method = 'GET', $data = null) {
    $ch = curl_init();

    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_TIMEOUT, 30); // 30 second timeout
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, true);

    if($method === 'POST') {
        curl_setopt($ch, CURLOPT_POST, true);
        if($data) {
            curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
            curl_setopt($ch, CURLOPT_HTTPHEADER, ['Content-Type: application/json']);
        }
    }

    $response = curl_exec($ch);
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
    $error = curl_error($ch);

    curl_close($ch);

    if($error) {
        throw new Exception("cURL Error: $error");
    }

    return ['response' => $response, 'http_code' => $httpCode];
}

// Usage
try {
    $result = makeAPIRequest('https://api.example.com/users/123');
    if($result['http_code'] === 200) {
        $userData = json_decode($result['response'], true);
        // Process user data
    }
} catch(Exception $e) {
    // Handle error
    Log::error("API request failed: " . $e->getMessage());
}
                </div>

                <div class="concept-title">üì¶ Composer</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>App store for developers - manages PHP dependencies automatically</p>
                </div>
                <div class="code-example">
// composer.json
{
    "name": "my/project",
    "require": {
        "guzzlehttp/guzzle": "^7.0",
        "monolog/monolog": "^2.0"
    },
    "autoload": {
        "psr-4": {
            "App\\": "src/"
        }
    }
}

// Usage in PHP
require 'vendor/autoload.php';

use GuzzleHttp\Client;
use Monolog\Logger;

$client = new Client();
$logger = new Logger('app');

// Composer commands:
// composer install - Install dependencies
// composer update - Update to latest versions
// composer require package/name - Add new dependency
// composer dump-autoload - Regenerate autoloader
                </div>

                <div class="concept-title">üîç Reflection API</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>X-ray machine for code - inspect classes, methods, properties at runtime</p>
                </div>
                <div class="code-example">
// Reflection Example
class User {
    public $name;
    private $password;

    public function getName() {
        return $this->name;
    }

    private function setPassword($pass) {
        $this->password = password_hash($pass, PASSWORD_DEFAULT);
    }
}

// Inspect class
$reflection = new ReflectionClass('User');
echo "Class: " . $reflection->getName() . "\n";

// Get all properties
$properties = $reflection->getProperties();
foreach($properties as $property) {
    echo "Property: " . $property->getName();
    echo " - Visibility: " . ($property->isPrivate() ? 'private' : 'public') . "\n";
}

// Get all methods
$methods = $reflection->getMethods();
foreach($methods as $method) {
    echo "Method: " . $method->getName();
    echo " - Visibility: " . ($method->isPrivate() ? 'private' : 'public') . "\n";
}

// Dynamic instantiation
$user = $reflection->newInstance();
$user->name = 'John';
                </div>

                <div class="concept-title">‚ö° Performance Optimization</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Race car tuning - eliminate bottlenecks for maximum speed</p>
                </div>
                <div class="code-example">
// 1. Use OPcache (in php.ini)
// opcache.enable=1
// opcache.memory_consumption=256
// opcache.max_accelerated_files=7963

// 2. Database query optimization
// BAD: N+1 Query Problem
$users = User::all(); // 1 query
foreach($users as $user) {
    $posts = $user->posts; // N queries!
}

// GOOD: Eager loading
$users = User::with('posts')->get(); // 1 query + 1 query

// 3. Memory optimization
function processLargeFile($filepath) {
    // BAD: Load entire file into memory
    $content = file_get_contents($filepath); // Uses lots of memory

    // GOOD: Process line by line
    $handle = fopen($filepath, 'r');
    while(($line = fgets($handle)) !== false) {
        // Process one line at a time
        processLine($line);
    }
    fclose($handle);
}

// 4. Caching strategies
$cacheKey = 'user_' . $userId;
$user = Cache::remember($cacheKey, 3600, function() {
    return User::find($userId); // Expensive DB query
});
                </div>

                <div class="concept-title">üîí Security Best Practices</div>
                <div class="success-box">
                    <h4 style="color: #ffd700;">Simple Definition:</h4>
                    <p>Bank vault + security cameras + armed guards - multiple layers of protection</p>
                </div>
                <div class="code-example">
// 1. SQL Injection Prevention
// WRONG
$sql = "SELECT * FROM users WHERE email = '$email'";
$result = mysqli_query($conn, $sql);

// RIGHT - Prepared statements
$stmt = $conn->prepare("SELECT * FROM users WHERE email = ?");
$stmt->bind_param("s", $email);
$stmt->execute();

// 2. XSS Prevention
// WRONG
echo "<div>Welcome " . $_GET['name'] . "</div>";

// RIGHT
echo "<div>Welcome " . htmlspecialchars($_GET['name'], ENT_QUOTES, 'UTF-8') . "</div>";

// 3. CSRF Protection
session_start();
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    if (!isset($_POST['csrf_token']) || $_POST['csrf_token'] !== $_SESSION['csrf_token']) {
        die('CSRF attack detected');
    }
}
$_SESSION['csrf_token'] = bin2hex(random_bytes(32));

// 4. Password Security
// WRONG
$password = md5($_POST['password']);

// RIGHT
$hashedPassword = password_hash($_POST['password'], PASSWORD_ARGON2ID);
if (password_verify($_POST['password'], $hashedPassword)) {
    // Password is correct
}

// 5. File Upload Security
function secureFileUpload($file) {
    // Check file size
    if ($file['size'] > 2 * 1024 * 1024) { // 2MB limit
        return false;
    }

    // Check MIME type, not extension
    $allowedTypes = ['image/jpeg', 'image/png'];
    $finfo = finfo_open(FILEINFO_MIME_TYPE);
    $mimeType = finfo_file($finfo, $file['tmp_name']);

    if (!in_array($mimeType, $allowedTypes)) {
        return false;
    }

    // Generate secure filename
    $extension = pathinfo($file['name'], PATHINFO_EXTENSION);
    $newFilename = bin2hex(random_bytes(16)) . '.' . $extension;

    // Move to secure directory outside web root
    move_uploaded_file($file['tmp_name'], '/secure/uploads/' . $newFilename);

    return $newFilename;
}
                </div>
            </div>

            <!-- Quick Summary -->
            <div class="fade-in">
                <h2 class="section-title">12. ‚úÖ Quick Summary to Remember</h2>
                <div class="summary-table">
                    <h3>üéØ OOP Concepts at a Glance</h3>
                    <div class="table-container">
                        <table style="margin: 0; color: #333;">
                            <thead>
                                <tr>
                                    <th style="width: 30%; background: #667eea; color: white;">Concept</th>
                                    <th style="width: 70%; background: #667eea; color: white;">One Line Summary</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Encapsulation</td>
                                    <td>Hide data, show only necessary functions</td>
                                </tr>
                                <tr>
                                    <td>Inheritance</td>
                                    <td>Reuse parent class code</td>
                                </tr>
                                <tr>
                                    <td>Polymorphism</td>
                                    <td>Same method, different behavior</td>
                                </tr>
                                <tr>
                                    <td>Abstraction</td>
                                    <td>Only show what's needed</td>
                                </tr>
                                <tr>
                                    <td>Abstract vs Interface</td>
                                    <td>Partial vs Full abstraction</td>
                                </tr>
                                <tr>
                                    <td>Singleton</td>
                                    <td>Only one object instance</td>
                                </tr>
                                <tr>
                                    <td>Factory</td>
                                    <td>Create objects smartly</td>
                                </tr>
                                <tr>
                                    <td>Exception Handling</td>
                                    <td>Handle runtime problems safely</td>
                                </tr>
                                <tr>
                                    <td>Session vs Cookie</td>
                                    <td>Server vs Client storage</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="highlight-box" style="margin-top: 30px;">
                    <h4 style="color: #ffd700; margin-bottom: 15px;">üöÄ Ready for Advanced PHP?</h4>
                    <p style="margin: 0;">
                        <strong>Master these OOP concepts and you'll be able to:</strong>
                    </p>
                    <ul style="margin-top: 10px;">
                        <li>‚úÖ Write maintainable, scalable PHP applications</li>
                        <li>‚úÖ Work effectively in team environments</li>
                        <li>‚úÖ Pass advanced PHP interviews with confidence</li>
                        <li>‚úÖ Build complex systems using design patterns</li>
                        <li>‚úÖ Understand modern PHP frameworks (Laravel, Symfony, etc.)</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>üß¨ Advanced PHP OOP Concepts - Master Object-Oriented Programming in PHP! üéØüí™</p>
        </div>
    </div>

    <button class="scroll-to-top" onclick="scrollToTop()">‚Üë</button>

    <script>
        // Copy to clipboard functionality
        async function copyToClipboard(text) {
            try {
                await navigator.clipboard.writeText(text);
                showToast('Code copied to clipboard!');
            } catch (err) {
                console.error('Failed to copy: ', err);
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showToast('Code copied to clipboard!');
            }
        }

        function showToast(message) {
            // Remove existing toast
            const existingToast = document.querySelector('.toast');
            if (existingToast) {
                existingToast.remove();
            }

            // Create new toast
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #4caf50;
                color: white;
                padding: 12px 20px;
                border-radius: 5px;
                z-index: 1001;
                font-weight: 500;
                box-shadow: 0 2px 10px rgba(0,0,0,0.2);
                animation: slideIn 0.3s ease;
            `;
            document.body.appendChild(toast);

            // Remove toast after 3 seconds
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Add click handlers to code examples
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.code-example').forEach(block => {
                block.style.cursor = 'pointer';
                block.addEventListener('click', function(e) {
                    const rect = this.getBoundingClientRect();
                    const clickX = e.clientX - rect.left;
                    const clickY = e.clientY - rect.top;
                    if (clickX > rect.width - 40 && clickY < 40) { // Check for click in copy icon area
                        e.preventDefault();
                        const code = this.textContent.replace(/üëÅÔ∏è|üìã/g, '').trim();
                        copyToClipboard(code);
                    }
                });
                block.title = 'Click the üìã icon to copy code';
            });

            // Scroll to top functionality
            window.addEventListener('scroll', function() {
                const scrollButton = document.querySelector('.scroll-to-top');
                if (window.pageYOffset > 300) {
                    scrollButton.classList.add('show');
                } else {
                    scrollButton.classList.remove('show');
                }
            });

            // Fade in animation on scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationDelay = '0s';
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.fade-in').forEach(el => {
                observer.observe(el);
            });
        });

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Add toast animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
